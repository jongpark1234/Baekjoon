A = X >> 1
A = A | X
A = ~ A
A = A ^ X
A = ~ A
B = A ^ A
A = A & B
C = A >> 1
A = A | C
C = A >> 2
A = A | C
C = A >> 4
A = A | C
C = A >> 8
A = A | C
C = A >> 16
A = A | C
C = A >> 32
A = A | C
Y = 0t1111111111111111111111111111111111111111 - A
D = Y >> 1
D = D & 0t0202020202020202020202020202020202020202
E = Y & 0t0202020202020202020202020202020202020202
Y = D + E
D = Y >> 2
D = D & 0t0022002200220022002200220022002200220022
E = Y & 0t0022002200220022002200220022002200220022
Y = D + E
D = Y >> 4
D = D & 0t0000222200002222000022220000222200002222
E = Y & 0t0000222200002222000022220000222200002222
Y = D + E
D = Y >> 8
D = D & 0t2222222200000000222222220000000022222222
E = Y & 0t2222222200000000222222220000000022222222
Y = D + E
D = Y >> 16
D = D & 0t2222222200000000000000002222222222222222
E = Y & 0t2222222200000000000000002222222222222222
Y = D + E
D = Y >> 32
D = D & 0t0000000022222222222222222222222222222222
E = Y & 0t0000000022222222222222222222222222222222
Y = D + E